<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>常用的前端JavaScript方法封装 - 坐和放宽</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="ZhangLK"><meta name="msapplication-TileImage" content="https://fastly.jsdelivr.net/gh/ZzzhangLK/Image-Hosting-Service/img/avtor.png"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="ZhangLK"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="一些常用的前端JavaScript方法封装，自用备份。"><meta property="og:type" content="blog"><meta property="og:title" content="常用的前端JavaScript方法封装"><meta property="og:url" content="http://zzzhanglk.github.io/2022/05/12/frontEnd/commonJSmethod/"><meta property="og:site_name" content="坐和放宽"><meta property="og:description" content="一些常用的前端JavaScript方法封装，自用备份。"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="http://zzzhanglk.github.io/img/og_image.png"><meta property="article:published_time" content="2022-05-11T16:00:00.000Z"><meta property="article:modified_time" content="2022-06-10T06:19:46.969Z"><meta property="article:author" content="ZhangLK"><meta property="article:tag" content="JavaScript"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://zzzhanglk.github.io/2022/05/12/frontEnd/commonJSmethod/"},"headline":"常用的前端JavaScript方法封装","image":["http://zzzhanglk.github.io/img/og_image.png"],"datePublished":"2022-05-11T16:00:00.000Z","dateModified":"2022-06-10T06:19:46.969Z","author":{"@type":"Person","name":"ZhangLK"},"publisher":{"@type":"Organization","name":"坐和放宽","logo":{"@type":"ImageObject","url":"https://fastly.jsdelivr.net/gh/ZzzhangLK/Image-Hosting-Service/img/avtor.png"}},"description":"一些常用的前端JavaScript方法封装，自用备份。"}</script><link rel="canonical" href="http://zzzhanglk.github.io/2022/05/12/frontEnd/commonJSmethod/"><link rel="icon" href="https://fastly.jsdelivr.net/gh/ZzzhangLK/Image-Hosting-Service/img/avtor.png"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 6.2.0"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="https://fastly.jsdelivr.net/gh/ZzzhangLK/Image-Hosting-Service/img/avtor.png" alt="坐和放宽" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ZzzhangLK"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2022-05-11T16:00:00.000Z" title="2022/5/12 上午12:00:00">2022-05-12</time>发表</span><span class="level-item"><time dateTime="2022-06-10T06:19:46.969Z" title="2022/6/10 下午2:19:46">2022-06-10</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/frontEnd/">frontEnd</a></span><span class="level-item">17 分钟读完 (大约2518个字)</span></div></div><h1 class="title is-3 is-size-4-mobile">常用的前端JavaScript方法封装</h1><div class="content"><p>一些常用的前端JavaScript方法封装，自用备份。</p>
<span id="more"></span>


<h3 id="1、输入一个值，返回其数据类型"><a href="#1、输入一个值，返回其数据类型" class="headerlink" title="1、输入一个值，返回其数据类型"></a>1、输入一个值，返回其数据类型</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function type(para) &#123;</span><br><span class="line">    return Object.prototype.toString.call(para)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2、数组去重"><a href="#2、数组去重" class="headerlink" title="2、数组去重"></a>2、数组去重</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function unique1(arr) &#123;</span><br><span class="line">    return [...new Set(arr)]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function unique2(arr) &#123;</span><br><span class="line">    var obj = &#123;&#125;;</span><br><span class="line">    return arr.filter(ele =&gt; &#123;</span><br><span class="line">        if (!obj[ele]) &#123;</span><br><span class="line">            obj[ele] = true;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function unique3(arr) &#123;</span><br><span class="line">    var result = [];</span><br><span class="line">    arr.forEach(ele =&gt; &#123;</span><br><span class="line">        if (result.indexOf(ele) == -1) &#123;</span><br><span class="line">            result.push(ele)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3、字符串去重"><a href="#3、字符串去重" class="headerlink" title="3、字符串去重"></a>3、字符串去重</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">String.prototype.unique = function () &#123;</span><br><span class="line">    var obj = &#123;&#125;,</span><br><span class="line">        str = &#x27;&#x27;,</span><br><span class="line">        len = this.length;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        if (!obj[this[i]]) &#123;</span><br><span class="line">            str += this[i];</span><br><span class="line">            obj[this[i]] = true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return str;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">#### //去除连续的字符串 </span><br><span class="line">function uniq(str) &#123;</span><br><span class="line">    return str.replace(/(\w)\1+/g, &#x27;$1&#x27;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4、深拷贝-浅拷贝"><a href="#4、深拷贝-浅拷贝" class="headerlink" title="4、深拷贝 浅拷贝"></a>4、深拷贝 浅拷贝</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">//深克隆（深克隆不考虑函数）</span><br><span class="line">function deepClone(obj, result) &#123;</span><br><span class="line">    var result = result || &#123;&#125;;</span><br><span class="line">    for (var prop in obj) &#123;</span><br><span class="line">        if (obj.hasOwnProperty(prop)) &#123;</span><br><span class="line">            if (typeof obj[prop] == &#x27;object&#x27; &amp;&amp; obj[prop] !== null) &#123;</span><br><span class="line">                // 引用值(obj/array)且不为null</span><br><span class="line">                if (Object.prototype.toString.call(obj[prop]) == &#x27;[object Object]&#x27;) &#123;</span><br><span class="line">                    // 对象</span><br><span class="line">                    result[prop] = &#123;&#125;;</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    // 数组</span><br><span class="line">                    result[prop] = [];</span><br><span class="line">                &#125;</span><br><span class="line">                deepClone(obj[prop], result[prop])</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 原始值或func</span><br><span class="line">        result[prop] = obj[prop]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">return result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 深浅克隆是针对引用值</span><br><span class="line">function deepClone(target) &#123;</span><br><span class="line">    if (typeof (target) !== &#x27;object&#x27;) &#123;</span><br><span class="line">        return target;</span><br><span class="line">    &#125;</span><br><span class="line">    var result;</span><br><span class="line">    if (Object.prototype.toString.call(target) == &#x27;[object Array]&#x27;) &#123;</span><br><span class="line">        // 数组</span><br><span class="line">        result = []</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 对象</span><br><span class="line">        result = &#123;&#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    for (var prop in target) &#123;</span><br><span class="line">        if (target.hasOwnProperty(prop)) &#123;</span><br><span class="line">            result[prop] = deepClone(target[prop])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br><span class="line">// 无法复制函数</span><br><span class="line">var o1 = jsON.parse(jsON.stringify(obj1));</span><br></pre></td></tr></table></figure>

<h3 id="5、reverse底层原理和扩展"><a href="#5、reverse底层原理和扩展" class="headerlink" title="5、reverse底层原理和扩展"></a>5、reverse底层原理和扩展</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">// 改变原数组</span><br><span class="line">Array.prototype.myReverse = function () &#123;</span><br><span class="line">    var len = this.length;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        var temp = this[i];</span><br><span class="line">        this[i] = this[len - 1 - i];</span><br><span class="line">        this[len - 1 - i] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6、圣杯模式的继承"><a href="#6、圣杯模式的继承" class="headerlink" title="6、圣杯模式的继承"></a>6、圣杯模式的继承</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function inherit(Target, Origin) &#123;</span><br><span class="line">    function F() &#123;&#125;;</span><br><span class="line">    F.prototype = Origin.prototype;</span><br><span class="line">    Target.prototype = new F();</span><br><span class="line">    Target.prototype.constructor = Target;</span><br><span class="line">    // 最终的原型指向</span><br><span class="line">    Target.prop.uber = Origin.prototype;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7、找出字符串中第一次只出现一次的字母"><a href="#7、找出字符串中第一次只出现一次的字母" class="headerlink" title="7、找出字符串中第一次只出现一次的字母"></a>7、找出字符串中第一次只出现一次的字母</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">String.prototype.firstAppear = function () &#123;</span><br><span class="line">    var obj = &#123;&#125;,</span><br><span class="line">        len = this.length;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        if (obj[this[i]]) &#123;</span><br><span class="line">            obj[this[i]]++;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            obj[this[i]] = 1;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    for (var prop in obj) &#123;</span><br><span class="line">       if (obj[prop] == 1) &#123;</span><br><span class="line">         return prop;</span><br><span class="line">       &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8、找元素的第n级父元素"><a href="#8、找元素的第n级父元素" class="headerlink" title="8、找元素的第n级父元素"></a>8、找元素的第n级父元素</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function parents(ele, n) &#123;</span><br><span class="line">    while (ele &amp;&amp; n) &#123;</span><br><span class="line">        ele = ele.parentElement ? ele.parentElement : ele.parentNode;</span><br><span class="line">        n--;</span><br><span class="line">    &#125;</span><br><span class="line">    return ele;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="9、-返回元素的第n个兄弟节点"><a href="#9、-返回元素的第n个兄弟节点" class="headerlink" title="9、 返回元素的第n个兄弟节点"></a>9、 返回元素的第n个兄弟节点</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">function retSibling(e, n) &#123;</span><br><span class="line">    while (e &amp;&amp; n) &#123;</span><br><span class="line">        if (n &gt; 0) &#123;</span><br><span class="line">            if (e.nextElementSibling) &#123;</span><br><span class="line">                e = e.nextElementSibling;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                for (e = e.nextSibling; e &amp;&amp; e.nodeType !== 1; e = e.nextSibling);</span><br><span class="line">            &#125;</span><br><span class="line">            n--;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            if (e.previousElementSibling) &#123;</span><br><span class="line">                e = e.previousElementSibling;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                for (e = e.previousElementSibling; e &amp;&amp; e.nodeType !== 1; e = e.previousElementSibling);</span><br><span class="line">            &#125;</span><br><span class="line">            n++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return e;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="10、封装mychildren，解决浏览器的兼容问题"><a href="#10、封装mychildren，解决浏览器的兼容问题" class="headerlink" title="10、封装mychildren，解决浏览器的兼容问题"></a>10、封装mychildren，解决浏览器的兼容问题</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function myChildren(e) &#123;</span><br><span class="line">    var children = e.childNodes,</span><br><span class="line">        arr = [],</span><br><span class="line">        len = children.length;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        if (children[i].nodeType === 1) &#123;</span><br><span class="line">            arr.push(children[i])</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="11、判断元素有没有子元素"><a href="#11、判断元素有没有子元素" class="headerlink" title="11、判断元素有没有子元素"></a>11、判断元素有没有子元素</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function hasChildren(e) &#123;</span><br><span class="line">    var children = e.childNodes,</span><br><span class="line">        len = children.length;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        if (children[i].nodeType === 1) &#123;</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="12、我一个元素插入到另一个元素的后面"><a href="#12、我一个元素插入到另一个元素的后面" class="headerlink" title="12、我一个元素插入到另一个元素的后面"></a>12、我一个元素插入到另一个元素的后面</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Element.prototype.insertAfter = function (target, elen) &#123;</span><br><span class="line">    var nextElen = elen.nextElenmentSibling;</span><br><span class="line">    if (nextElen == null) &#123;</span><br><span class="line">        this.appendChild(target);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        this.insertBefore(target, nextElen);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="13、返回当前的时间（年月日时分秒）"><a href="#13、返回当前的时间（年月日时分秒）" class="headerlink" title="13、返回当前的时间（年月日时分秒）"></a>13、返回当前的时间（年月日时分秒）</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">function getDateTime() &#123;</span><br><span class="line">    var date = new Date(),</span><br><span class="line">        year = date.getFullYear(),</span><br><span class="line">        month = date.getMonth() + 1,</span><br><span class="line">        day = date.getDate(),</span><br><span class="line">        hour = date.getHours() + 1,</span><br><span class="line">        minute = date.getMinutes(),</span><br><span class="line">        second = date.getSeconds();</span><br><span class="line">        month = checkTime(month);</span><br><span class="line">        day = checkTime(day);</span><br><span class="line">        hour = checkTime(hour);</span><br><span class="line">        minute = checkTime(minute);</span><br><span class="line">        second = checkTime(second);</span><br><span class="line">     function checkTime(i) &#123;</span><br><span class="line">        if (i &lt; 10) &#123;</span><br><span class="line">                i = &quot;0&quot; + i;</span><br><span class="line">       &#125;</span><br><span class="line">      return i;</span><br><span class="line">    &#125;</span><br><span class="line">    return &quot;&quot; + year + &quot;年&quot; + month + &quot;月&quot; + day + &quot;日&quot; + hour + &quot;时&quot; + minute + &quot;分&quot; + second + &quot;秒&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="14、获得滚动条的滚动距离"><a href="#14、获得滚动条的滚动距离" class="headerlink" title="14、获得滚动条的滚动距离"></a>14、获得滚动条的滚动距离</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function getScrollOffset() &#123;</span><br><span class="line">    if (window.pageXOffset) &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            x: window.pageXOffset,</span><br><span class="line">            y: window.pageYOffset</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            x: document.body.scrollLeft + document.documentElement.scrollLeft,</span><br><span class="line">            y: document.body.scrollTop + document.documentElement.scrollTop</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="15、获得视口的尺寸"><a href="#15、获得视口的尺寸" class="headerlink" title="15、获得视口的尺寸"></a>15、获得视口的尺寸</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function getViewportOffset() &#123;</span><br><span class="line">    if (window.innerWidth) &#123;</span><br><span class="line">        return &#123;</span><br><span class="line">            w: window.innerWidth,</span><br><span class="line">            h: window.innerHeight</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // ie8及其以下</span><br><span class="line">        if (document.compatMode === &quot;BackCompat&quot;) &#123;</span><br><span class="line">            // 怪异模式</span><br><span class="line">            return &#123;</span><br><span class="line">                w: document.body.clientWidth,</span><br><span class="line">                h: document.body.clientHeight</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            // 标准模式</span><br><span class="line">            return &#123;</span><br><span class="line">                w: document.documentElement.clientWidth,</span><br><span class="line">                h: document.documentElement.clientHeight</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="16、获取任一元素的任意属性"><a href="#16、获取任一元素的任意属性" class="headerlink" title="16、获取任一元素的任意属性"></a>16、获取任一元素的任意属性</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">function getStyle(elem, prop) &#123;</span><br><span class="line">    return window.getComputedStyle ? window.getComputedStyle(elem, null)[prop] : elem.currentStyle[prop]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="17、绑定事件的兼容代码"><a href="#17、绑定事件的兼容代码" class="headerlink" title="17、绑定事件的兼容代码"></a>17、绑定事件的兼容代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function addEvent(elem, type, handle) &#123;</span><br><span class="line">    if (elem.addEventListener) &#123; //非ie和非ie9</span><br><span class="line">        elem.addEventListener(type, handle, false);</span><br><span class="line">    &#125; else if (elem.attachEvent) &#123; //ie6到ie8</span><br><span class="line">        elem.attachEvent(&#x27;on&#x27; + type, function () &#123;</span><br><span class="line">            handle.call(elem);</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        elem[&#x27;on&#x27; + type] = handle;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="18、解绑事件"><a href="#18、解绑事件" class="headerlink" title="18、解绑事件"></a>18、解绑事件</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function removeEvent(elem, type, handle) &#123;</span><br><span class="line">    if (elem.removeEventListener) &#123; //非ie和非ie9</span><br><span class="line">        elem.removeEventListener(type, handle, false);</span><br><span class="line">    &#125; else if (elem.detachEvent) &#123; //ie6到ie8</span><br><span class="line">        elem.detachEvent(&#x27;on&#x27; + type, handle);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        elem[&#x27;on&#x27; + type] = null;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="19、取消冒泡的兼容代码"><a href="#19、取消冒泡的兼容代码" class="headerlink" title="19、取消冒泡的兼容代码"></a>19、取消冒泡的兼容代码</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function stopBubble(e) &#123;</span><br><span class="line">    if (e &amp;&amp; e.stopPropagation) &#123;</span><br><span class="line">        e.stopPropagation();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        window.event.cancelBubble = true;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="20、检验字符串是否是回文"><a href="#20、检验字符串是否是回文" class="headerlink" title="20、检验字符串是否是回文"></a>20、检验字符串是否是回文</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function isPalina(str) &#123;</span><br><span class="line">    if (Object.prototype.toString.call(str) !== &#x27;[object String]&#x27;) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    var len = str.length;</span><br><span class="line">    for (var i = 0; i &lt; len / 2; i++) &#123;</span><br><span class="line">        if (str[i] != str[len - 1 - i]) &#123;</span><br><span class="line">            return false;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="21、检验字符串是否是回文"><a href="#21、检验字符串是否是回文" class="headerlink" title="21、检验字符串是否是回文"></a>21、检验字符串是否是回文</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function isPalindrome(str) &#123;</span><br><span class="line">    str = str.replace(/\W/g, &#x27;&#x27;).toLowerCase();</span><br><span class="line">    console.log(str)</span><br><span class="line">    return (str == str.split(&#x27;&#x27;).reverse().join(&#x27;&#x27;))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="22、兼容getElementsByClassName方法"><a href="#22、兼容getElementsByClassName方法" class="headerlink" title="22、兼容getElementsByClassName方法"></a>22、兼容getElementsByClassName方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Element.prototype.getElementsByClassName = Document.prototype.getElementsByClassName = function (_className) &#123;</span><br><span class="line">    var allDomArray = document.getElementsByTagName(&#x27;*&#x27;);</span><br><span class="line">    var lastDomArray = [];</span><br><span class="line">    function trimSpace(strClass) &#123;</span><br><span class="line">        var reg = /\s+/g;</span><br><span class="line">        return strClass.replace(reg, &#x27; &#x27;).trim()</span><br><span class="line">    &#125;</span><br><span class="line">    for (var i = 0; i &lt; allDomArray.length; i++) &#123;</span><br><span class="line">        var classArray = trimSpace(allDomArray[i].className).split(&#x27; &#x27;);</span><br><span class="line">        for (var j = 0; j &lt; classArray.length; j++) &#123;</span><br><span class="line">            if (classArray[j] == _className) &#123;</span><br><span class="line">                lastDomArray.push(allDomArray[i]);</span><br><span class="line">                break;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return lastDomArray;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="23、运动函数"><a href="#23、运动函数" class="headerlink" title="23、运动函数"></a>23、运动函数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">function animate(obj, json, callback) &#123;</span><br><span class="line">    clearInterval(obj.timer);</span><br><span class="line">    var speed,</span><br><span class="line">        current;</span><br><span class="line">    obj.timer = setInterval(function () &#123;</span><br><span class="line">        var lock = true;</span><br><span class="line">        for (var prop in json) &#123;</span><br><span class="line">            if (prop == &#x27;opacity&#x27;) &#123;</span><br><span class="line">                current = parseFloat(window.getComputedStyle(obj, null)[prop]) * 100;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                current = parseInt(window.getComputedStyle(obj, null)[prop]);</span><br><span class="line">            &#125;</span><br><span class="line">            speed = (json[prop] - current) / 7;</span><br><span class="line">            speed = speed &gt; 0 ? Math.ceil(speed) : Math.floor(speed);</span><br><span class="line"></span><br><span class="line">            if (prop == &#x27;opacity&#x27;) &#123;</span><br><span class="line">                obj.style[prop] = (current + speed) / 100;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                obj.style[prop] = current + speed + &#x27;px&#x27;;</span><br><span class="line">            &#125;</span><br><span class="line">            if (current != json[prop]) &#123;</span><br><span class="line">                lock = false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if (lock) &#123;</span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line">            typeof callback == &#x27;function&#x27; ? callback() : &#x27;&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, 30)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="24、弹性运动"><a href="#24、弹性运动" class="headerlink" title="24、弹性运动"></a>24、弹性运动</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">function ElasticMovement(obj, target) &#123;</span><br><span class="line">    clearInterval(obj.timer);</span><br><span class="line">    var iSpeed = 40,</span><br><span class="line">        a, u = 0.8;</span><br><span class="line">    obj.timer = setInterval(function () &#123;</span><br><span class="line">        a = (target - obj.offsetLeft) / 8;</span><br><span class="line">        iSpeed = iSpeed + a;</span><br><span class="line">        iSpeed = iSpeed * u;</span><br><span class="line">        if (Math.abs(iSpeed) &lt;= 1 &amp;&amp; Math.abs(a) &lt;= 1) &#123;</span><br><span class="line">            console.log(&#x27;over&#x27;)</span><br><span class="line">            clearInterval(obj.timer);</span><br><span class="line">            obj.style.left = target + &#x27;px&#x27;;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            obj.style.left = obj.offsetLeft + iSpeed + &#x27;px&#x27;;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;, 30);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="25、封装自己的forEach方法"><a href="#25、封装自己的forEach方法" class="headerlink" title="25、封装自己的forEach方法"></a>25、封装自己的forEach方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.myForEach = function (func, obj) &#123;</span><br><span class="line">    var len = this.length;</span><br><span class="line">    var _this = arguments[1] ? arguments[1] : window;</span><br><span class="line">    // var _this=arguments[1]||window;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        func.call(_this, this[i], i, this)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="26、封装自己的filter方法"><a href="#26、封装自己的filter方法" class="headerlink" title="26、封装自己的filter方法"></a>26、封装自己的filter方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.myFilter = function (func, obj) &#123;</span><br><span class="line">    var len = this.length;</span><br><span class="line">    var arr = [];</span><br><span class="line">    var _this = arguments[1] || window;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        func.call(_this, this[i], i, this) &amp;&amp; arr.push(this[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="27、数组map方法"><a href="#27、数组map方法" class="headerlink" title="27、数组map方法"></a>27、数组map方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.myMap = function (func) &#123;</span><br><span class="line">    var arr = [];</span><br><span class="line">    var len = this.length;</span><br><span class="line">    var _this = arguments[1] || window;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        arr.push(func.call(_this, this[i], i, this));</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="28、数组every方法"><a href="#28、数组every方法" class="headerlink" title="28、数组every方法"></a>28、数组every方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.myEvery = function (func) &#123;</span><br><span class="line">    var flag = true;</span><br><span class="line">    var len = this.length;</span><br><span class="line">    var _this = arguments[1] || window;</span><br><span class="line">    for (var i = 0; i &lt; len; i++) &#123;</span><br><span class="line">        if (func.apply(_this, [this[i], i, this]) == false) &#123;</span><br><span class="line">            flag = false;</span><br><span class="line">            break;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return flag;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="29、数组reduce方法"><a href="#29、数组reduce方法" class="headerlink" title="29、数组reduce方法"></a>29、数组reduce方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Array.prototype.myReduce = function (func, initialValue) &#123;</span><br><span class="line">    var len = this.length,</span><br><span class="line">        nextValue,</span><br><span class="line">        i;</span><br><span class="line">    if (!initialValue) &#123;</span><br><span class="line">        // 没有传第二个参数</span><br><span class="line">        nextValue = this[0];</span><br><span class="line">        i = 1;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        // 传了第二个参数</span><br><span class="line">        nextValue = initialValue;</span><br><span class="line">        i = 0;</span><br><span class="line">    &#125;</span><br><span class="line">    for (; i &lt; len; i++) &#123;</span><br><span class="line">        nextValue = func(nextValue, this[i], i, this);</span><br><span class="line">    &#125;</span><br><span class="line">    return nextValue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="30、获取url中的参数"><a href="#30、获取url中的参数" class="headerlink" title="30、获取url中的参数"></a>30、获取url中的参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">function getWindonHref() &#123;</span><br><span class="line">    var sHref = window.location.href;</span><br><span class="line">    var args = sHref.split(&#x27;?&#x27;);</span><br><span class="line">    if (args[0] === sHref) &#123;</span><br><span class="line">        return &#x27;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">    var hrefarr = args[1].split(&#x27;#&#x27;)[0].split(&#x27;&amp;&#x27;);</span><br><span class="line">    var obj = &#123;&#125;;</span><br><span class="line">    for (var i = 0; i &lt; hrefarr.length; i++) &#123;</span><br><span class="line">        hrefarr[i] = hrefarr[i].split(&#x27;=&#x27;);</span><br><span class="line">        obj[hrefarr[i][0]] = hrefarr[i][1];</span><br><span class="line">    &#125;</span><br><span class="line">    return obj;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="31、数组排序"><a href="#31、数组排序" class="headerlink" title="31、数组排序"></a>31、数组排序</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">// 快排 [left] + min + [right]</span><br><span class="line">function quickArr(arr) &#123;</span><br><span class="line">    if (arr.length &lt;= 1) &#123;</span><br><span class="line">        return arr;</span><br><span class="line">    &#125;</span><br><span class="line">    var left = [],</span><br><span class="line">        right = [];</span><br><span class="line">    var pIndex = Math.floor(arr.length / 2);</span><br><span class="line">    var p = arr.splice(pIndex, 1)[0];</span><br><span class="line">    for (var i = 0; i &lt; arr.length; i++) &#123;</span><br><span class="line">        if (arr[i] &lt;= p) &#123;</span><br><span class="line">            left.push(arr[i]);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            right.push(arr[i]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    // 递归</span><br><span class="line">    return quickArr(left).concat([p], quickArr(right));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// 冒泡</span><br><span class="line">function bubbleSort(arr) &#123;</span><br><span class="line">    for (var i = 0; i &lt; arr.length - 1; i++) &#123;</span><br><span class="line">        for (var j = i + 1; j &lt; arr.length; j++) &#123;</span><br><span class="line">            if (arr[i] &gt; arr[j]) &#123;</span><br><span class="line">                var temp = arr[i];</span><br><span class="line">                arr[i] = arr[j];</span><br><span class="line">                arr[j] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function bubbleSort(arr) &#123;</span><br><span class="line">    var len = arr.length;</span><br><span class="line">    for (var i = 0; i &lt; len - 1; i++) &#123;</span><br><span class="line">        for (var j = 0; j &lt; len - 1 - i; j++) &#123;</span><br><span class="line">            if (arr[j] &gt; arr[j + 1]) &#123;</span><br><span class="line">                var temp = arr[j];</span><br><span class="line">                arr[j] = arr[j + 1];</span><br><span class="line">                arr[j + 1] = temp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return arr;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="32、遍历Dom树"><a href="#32、遍历Dom树" class="headerlink" title="32、遍历Dom树"></a>32、遍历Dom树</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 给定页面上的DOM元素,将访问元素本身及其所有后代(不仅仅是它的直接子元素)</span><br><span class="line">// 对于每个访问的元素，函数讲元素传递给提供的回调函数</span><br><span class="line">function traverse(element, callback) &#123;</span><br><span class="line">    callback(element);</span><br><span class="line">    var list = element.children;</span><br><span class="line">    for (var i = 0; i &lt; list.length; i++) &#123;</span><br><span class="line">        traverse(list[i], callback);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="33、原生js封装ajax"><a href="#33、原生js封装ajax" class="headerlink" title="33、原生js封装ajax"></a>33、原生js封装ajax</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">function ajax(method, url, callback, data, flag) &#123;</span><br><span class="line">    var xhr;</span><br><span class="line">    flag = flag || true;</span><br><span class="line">    method = method.toUpperCase();</span><br><span class="line">    if (window.XMLHttpRequest) &#123;</span><br><span class="line">        xhr = new XMLHttpRequest();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        xhr = new ActiveXObject(&#x27;Microsoft.XMLHttp&#x27;);</span><br><span class="line">    &#125;</span><br><span class="line">    xhr.onreadystatechange = function () &#123;</span><br><span class="line">        if (xhr.readyState == 4 &amp;&amp; xhr.status == 200) &#123;</span><br><span class="line">            console.log(2)</span><br><span class="line">            callback(xhr.responseText);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (method == &#x27;GET&#x27;) &#123;</span><br><span class="line">        var date = new Date(),</span><br><span class="line">        timer = date.getTime();</span><br><span class="line">        xhr.open(&#x27;GET&#x27;, url + &#x27;?&#x27; + data + &#x27;&amp;timer&#x27; + timer, flag);</span><br><span class="line">        xhr.send()</span><br><span class="line">        &#125; else if (method == &#x27;POST&#x27;) &#123;</span><br><span class="line">        xhr.open(&#x27;POST&#x27;, url, flag);</span><br><span class="line">        xhr.setRequestHeader(&#x27;Content-Type&#x27;, &#x27;application/x-www-form-urlencoded&#x27;);</span><br><span class="line">        xhr.send(data);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="34、异步加载script"><a href="#34、异步加载script" class="headerlink" title="34、异步加载script"></a>34、异步加载script</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function loadScript(url, callback) &#123;</span><br><span class="line">    var oscript = document.createElement(&#x27;script&#x27;);</span><br><span class="line">    if (oscript.readyState) &#123; // ie8及以下版本</span><br><span class="line">        oscript.onreadystatechange = function () &#123;</span><br><span class="line">            if (oscript.readyState === &#x27;complete&#x27; || oscript.readyState === &#x27;loaded&#x27;) &#123;</span><br><span class="line">                callback();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        oscript.onload = function () &#123;</span><br><span class="line">            callback()</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    oscript.src = url;</span><br><span class="line">    document.body.appendChild(oscript);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="35、cookie管理"><a href="#35、cookie管理" class="headerlink" title="35、cookie管理"></a>35、cookie管理</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">var cookie = &#123;</span><br><span class="line">    set: function (name, value, time) &#123;</span><br><span class="line">        document.cookie = name + &#x27;=&#x27; + value + &#x27;; max-age=&#x27; + time;</span><br><span class="line">        return this;</span><br><span class="line">    &#125;,</span><br><span class="line">    remove: function (name) &#123;</span><br><span class="line">        return this.setCookie(name, &#x27;&#x27;, -1);</span><br><span class="line">    &#125;,</span><br><span class="line">    get: function (name, callback) &#123;</span><br><span class="line">        var allCookieArr = document.cookie.split(&#x27;; &#x27;);</span><br><span class="line">        for (var i = 0; i &lt; allCookieArr.length; i++) &#123;</span><br><span class="line">            var itemCookieArr = allCookieArr[i].split(&#x27;=&#x27;);</span><br><span class="line">            if (itemCookieArr[0] === name) &#123;</span><br><span class="line">                return itemCookieArr[1]</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        return undefined;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="36、实现bind-方法"><a href="#36、实现bind-方法" class="headerlink" title="36、实现bind()方法"></a>36、实现bind()方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.myBind = function (target) &#123;</span><br><span class="line">    var target = target || window;</span><br><span class="line">    var _args1 = [].slice.call(arguments, 1);</span><br><span class="line">    var self = this;</span><br><span class="line">    var temp = function () &#123;&#125;;</span><br><span class="line">    var F = function () &#123;</span><br><span class="line">        var _args2 = [].slice.call(arguments, 0);</span><br><span class="line">        var parasArr = _args1.concat(_args2);</span><br><span class="line">        return self.apply(this instanceof temp ? this : target, parasArr)</span><br><span class="line">    &#125;</span><br><span class="line">    temp.prototype = self.prototype;</span><br><span class="line">    F.prototype = new temp();</span><br><span class="line">    return F;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="37、实现call-方法"><a href="#37、实现call-方法" class="headerlink" title="37、实现call()方法"></a>37、实现call()方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.myCall = function () &#123;</span><br><span class="line">    var ctx = arguments[0] || window;</span><br><span class="line">    ctx.fn = this;</span><br><span class="line">    var args = [];</span><br><span class="line">    for (var i = 1; i &lt; arguments.length; i++) &#123;</span><br><span class="line">        args.push(arguments[i])</span><br><span class="line">    &#125;</span><br><span class="line">    var result = ctx.fn(...args);</span><br><span class="line">    delete ctx.fn;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="38、实现apply-方法"><a href="#38、实现apply-方法" class="headerlink" title="38、实现apply()方法"></a>38、实现apply()方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Function.prototype.myApply = function () &#123;</span><br><span class="line">    var ctx = arguments[0] || window;</span><br><span class="line">    ctx.fn = this;</span><br><span class="line">    if (!arguments[1]) &#123;</span><br><span class="line">        var result = ctx.fn();</span><br><span class="line">        delete ctx.fn;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">    var result = ctx.fn(...arguments[1]);</span><br><span class="line">    delete ctx.fn;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="39、防抖"><a href="#39、防抖" class="headerlink" title="39、防抖"></a>39、防抖</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function debounce(handle, delay) &#123;</span><br><span class="line">    var timer = null;</span><br><span class="line">    return function () &#123;</span><br><span class="line">        var _self = this,</span><br><span class="line">            _args = arguments;</span><br><span class="line">        clearTimeout(timer);</span><br><span class="line">        timer = setTimeout(function () &#123;</span><br><span class="line">            handle.apply(_self, _args)</span><br><span class="line">        &#125;, delay)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="40、节流"><a href="#40、节流" class="headerlink" title="40、节流"></a>40、节流</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">function throttle(handler, wait) &#123;</span><br><span class="line">    var lastTime = 0;</span><br><span class="line">    return function (e) &#123;</span><br><span class="line">        var nowTime = new Date().getTime();</span><br><span class="line">        if (nowTime - lastTime &gt; wait) &#123;</span><br><span class="line">            handler.apply(this, arguments);</span><br><span class="line">            lastTime = nowTime;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="41、requestAnimFrame兼容性方法"><a href="#41、requestAnimFrame兼容性方法" class="headerlink" title="41、requestAnimFrame兼容性方法"></a>41、requestAnimFrame兼容性方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">window.requestAnimFrame = (function () &#123;</span><br><span class="line">    return window.requestAnimationFrame ||</span><br><span class="line">        window.webkitRequestAnimationFrame ||</span><br><span class="line">        window.mozRequestAnimationFrame ||</span><br><span class="line">        function (callback) &#123;</span><br><span class="line">            window.setTimeout(callback, 1000 / 60);</span><br><span class="line">        &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="42、cancelAnimFrame兼容性方法"><a href="#42、cancelAnimFrame兼容性方法" class="headerlink" title="42、cancelAnimFrame兼容性方法"></a>42、cancelAnimFrame兼容性方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">window.cancelAnimFrame = (function () &#123;</span><br><span class="line">    return window.cancelAnimationFrame ||</span><br><span class="line">        window.webkitCancelAnimationFrame ||</span><br><span class="line">        window.mozCancelAnimationFrame ||</span><br><span class="line">        function (id) &#123;</span><br><span class="line">            window.clearTimeout(id);</span><br><span class="line">        &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="43、jsonp底层方法"><a href="#43、jsonp底层方法" class="headerlink" title="43、jsonp底层方法"></a>43、jsonp底层方法</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function jsonp(url, callback) &#123;</span><br><span class="line">    var oscript = document.createElement(&#x27;script&#x27;);</span><br><span class="line">    if (oscript.readyState) &#123; // ie8及以下版本</span><br><span class="line">        oscript.onreadystatechange = function () &#123;</span><br><span class="line">            if (oscript.readyState === &#x27;complete&#x27; || oscript.readyState === &#x27;loaded&#x27;) &#123;</span><br><span class="line">                callback();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        oscript.onload = function () &#123;</span><br><span class="line">            callback()</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">    oscript.src = url;</span><br><span class="line">    document.body.appendChild(oscript);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="44、获取url上的参数"><a href="#44、获取url上的参数" class="headerlink" title="44、获取url上的参数"></a>44、获取url上的参数</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function getUrlParam(sUrl, sKey) &#123;</span><br><span class="line">    var result = &#123;&#125;;</span><br><span class="line">    sUrl.replace(/(\w+)=(\w+)(?=[&amp;|#])/g, function (ele, key, val) &#123;</span><br><span class="line">        if (!result[key]) &#123;</span><br><span class="line">            result[key] = val;</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            var temp = result[key];</span><br><span class="line">            result[key] = [].concat(temp, val);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    if (!sKey) &#123;</span><br><span class="line">        return result;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        return result[sKey] || &#x27;&#x27;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="45、格式化时间"><a href="#45、格式化时间" class="headerlink" title="45、格式化时间"></a>45、格式化时间</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">function formatDate(t, str) &#123;</span><br><span class="line">    var obj = &#123;</span><br><span class="line">        yyyy: t.getFullYear(),</span><br><span class="line">        yy: (&quot;&quot; + t.getFullYear()).slice(-2),</span><br><span class="line">        M: t.getMonth() + 1,</span><br><span class="line">        MM: (&quot;0&quot; + (t.getMonth() + 1)).slice(-2),</span><br><span class="line">        d: t.getDate(),</span><br><span class="line">        dd: (&quot;0&quot; + t.getDate()).slice(-2),</span><br><span class="line">        H: t.getHours(),</span><br><span class="line">        HH: (&quot;0&quot; + t.getHours()).slice(-2),</span><br><span class="line">        h: t.getHours() % 12,</span><br><span class="line">        hh: (&quot;0&quot; + t.getHours() % 12).slice(-2),</span><br><span class="line">        m: t.getMinutes(),</span><br><span class="line">        mm: (&quot;0&quot; + t.getMinutes()).slice(-2),</span><br><span class="line">        s: t.getSeconds(),</span><br><span class="line">        ss: (&quot;0&quot; + t.getSeconds()).slice(-2),</span><br><span class="line">        w: [&#x27;日&#x27;, &#x27;一&#x27;, &#x27;二&#x27;, &#x27;三&#x27;, &#x27;四&#x27;, &#x27;五&#x27;, &#x27;六&#x27;][t.getDay()]</span><br><span class="line">    &#125;;</span><br><span class="line">    return str.replace(/([a-z]+)/ig, function ($1) &#123;</span><br><span class="line">        return obj[$1]</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="46、验证邮箱的正则表达式"><a href="#46、验证邮箱的正则表达式" class="headerlink" title="46、验证邮箱的正则表达式"></a>46、验证邮箱的正则表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function isAvailableEmail(sEmail) &#123;</span><br><span class="line">    var reg = /^([\w+\.])+@\w+([.]\w+)+$/</span><br><span class="line">    return reg.test(sEmail)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="47、函数柯里化"><a href="#47、函数柯里化" class="headerlink" title="47、函数柯里化"></a>47、函数柯里化</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">//是把接受多个参数的函数变换成接受一个单一参数(最初函数的第一个参数)的函数，并且返回接受余下的参数且返回结果的新函数的技术</span><br><span class="line"></span><br><span class="line">function curryIt(fn) &#123;</span><br><span class="line">    var length = fn.length,</span><br><span class="line">        args = [];</span><br><span class="line">    var result = function (arg) &#123;</span><br><span class="line">        args.push(arg);</span><br><span class="line">        length--;</span><br><span class="line">        if (length &lt;= 0) &#123;</span><br><span class="line">            return fn.apply(this, args);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            return result;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    return result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="48、大数相加"><a href="#48、大数相加" class="headerlink" title="48、大数相加"></a>48、大数相加</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">function sumBigNumber(a, b) &#123;</span><br><span class="line">    var res = &#x27;&#x27;, //结果</span><br><span class="line">        temp = 0; //按位加的结果及进位</span><br><span class="line">    a = a.split(&#x27;&#x27;);</span><br><span class="line">    b = b.split(&#x27;&#x27;);</span><br><span class="line">    while (a.length || b.length || temp) &#123;</span><br><span class="line">        //~~按位非 1.类型转换，转换成数字 2.~~undefined==0 </span><br><span class="line">        temp += ~~a.pop() + ~~b.pop();</span><br><span class="line">        res = (temp % 10) + res;</span><br><span class="line">        temp = temp &gt; 9;</span><br><span class="line">    &#125;</span><br><span class="line">    return res.replace(/^0+/, &#x27;&#x27;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="49、单例模式"><a href="#49、单例模式" class="headerlink" title="49、单例模式"></a>49、单例模式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function getSingle(func) &#123;</span><br><span class="line">    var result;</span><br><span class="line">    return function () &#123;</span><br><span class="line">        if (!result) &#123;</span><br><span class="line">            result = new func(arguments);</span><br><span class="line">        &#125;</span><br><span class="line">        return result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000039220666">查看原文</a></p>
</div><div class="article-licensing box"><div class="licensing-title"><p>常用的前端JavaScript方法封装</p><p><a href="http://zzzhanglk.github.io/2022/05/12/frontEnd/commonJSmethod/">http://zzzhanglk.github.io/2022/05/12/frontEnd/commonJSmethod/</a></p></div><div class="licensing-meta level is-mobile"><div class="level-left"><div class="level-item is-narrow"><div><h6>作者</h6><p>ZhangLK</p></div></div><div class="level-item is-narrow"><div><h6>发布于</h6><p>2022-05-12</p></div></div><div class="level-item is-narrow"><div><h6>更新于</h6><p>2022-06-10</p></div></div><div class="level-item is-narrow"><div><h6>许可协议</h6><p><a class="icons" rel="noopener" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="icon fab fa-creative-commons"></i></a><a class="icons" rel="noopener" target="_blank" title="Attribution" href="https://creativecommons.org/licenses/by/4.0/"><i class="icon fab fa-creative-commons-by"></i></a><a class="icons" rel="noopener" target="_blank" title="Noncommercial" href="https://creativecommons.org/licenses/by-nc/4.0/"><i class="icon fab fa-creative-commons-nc"></i></a></p></div></div></div></div></div><div class="article-tags is-size-7 mb-4"><span class="mr-2">#</span><a class="link-muted mr-2" rel="tag" href="/tags/JavaScript/">JavaScript</a></div><!--!--></article></div><div class="card"><div class="card-content"><h3 class="menu-label has-text-centered">喜欢这篇文章？打赏一下作者吧</h3><div class="buttons is-centered"><a class="button donate" data-type="alipay"><span class="icon is-small"><i class="fab fa-alipay"></i></span><span>支付宝</span><span class="qrcode"><img src="https://fastly.jsdelivr.net/gh/ZzzhangLK/Image-Hosting-Service/img/alipay.jpg" alt="支付宝"></span></a><a class="button donate" data-type="wechat"><span class="icon is-small"><i class="fab fa-weixin"></i></span><span>微信</span><span class="qrcode"><img src="https://fastly.jsdelivr.net/gh/ZzzhangLK/Image-Hosting-Service/img/wechat.jpg" alt="微信"></span></a></div></div></div><nav class="post-navigation mt-4 level is-mobile"><div class="level-start"><a class="article-nav-prev level level-item link-muted" href="/2022/05/18/thoughts/jsdelivr-alt/"><i class="level-item fas fa-chevron-left"></i><span class="level-item">jsDelivr大面积失效，个人站点该怎么办？</span></a></div><div class="level-end"><a class="article-nav-next level level-item link-muted" href="/2022/04/10/frontEnd/asyncAndawait/"><span class="level-item">JavaScript 异步代码的几个推荐做法</span><i class="level-item fas fa-chevron-right"></i></a></div></nav><!--!--></div><div class="column column-left is-4-tablet is-4-desktop is-3-widescreen  order-1"><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">分类</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/Finance/"><span class="level-start"><span class="level-item">Finance</span></span><span class="level-end"><span class="level-item tag">10</span></span></a></li><li><a class="level is-mobile" href="/categories/FrontEnd/"><span class="level-start"><span class="level-item">FrontEnd</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Thoughts/"><span class="level-start"><span class="level-item">Thoughts</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/article/"><span class="level-start"><span class="level-item">article</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/essay/"><span class="level-start"><span class="level-item">essay</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/frontEnd/"><span class="level-start"><span class="level-item">frontEnd</span></span><span class="level-end"><span class="level-item tag">11</span></span></a><ul><li><a class="level is-mobile" href="/categories/frontEnd/JavaScript/"><span class="level-start"><span class="level-item">JavaScript</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">标签</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/DOM%E7%BC%96%E7%A8%8B%E8%89%BA%E6%9C%AF/"><span class="tag">DOM编程艺术</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo/"><span class="tag">Hexo</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Hexo%E4%B8%BB%E9%A2%98/"><span class="tag">Hexo主题</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JavaScript/"><span class="tag">JavaScript</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blog/"><span class="tag">blog</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/blog-%E5%9B%BE%E5%BA%8A/"><span class="tag">blog - 图床</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%8F%98%E9%87%8F%E5%92%8C%E7%B1%BB%E5%9E%8B/"><span class="tag">变量和类型</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%9B%BE%E5%BA%8A/"><span class="tag">图床</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/"><span class="tag">小程序</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E6%89%BE%E5%B7%A5%E4%BD%9C/"><span class="tag">找工作</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%80%83%E7%A0%94/"><span class="tag">考研</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E8%BD%AC%E8%BD%BD/"><span class="tag">转载</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%87%8D%E5%AD%A6JS/"><span class="tag">重学JS</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%87%91%E8%9E%8D/"><span class="tag">金融</span><span class="tag">10</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9A%8F%E6%83%B3/"><span class="tag">随想</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9A%8F%E7%AC%94/"><span class="tag">随笔</span><span class="tag">3</span></a></div><div class="control"><a class="tags has-addons" href="/tags/%E9%9D%A2%E8%AF%95/"><span class="tag">面试</span><span class="tag">1</span></a></div></div></div></div></div><div class="column-right-shadow is-hidden-widescreen"></div></div><div class="column column-right is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only order-3"><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">最新文章</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-06-09T16:00:00.000Z">2022-06-10</time></p><p class="title"><a href="/2022/06/10/frontEnd/JSflatArray/">浅谈JS的数组拍平</a></p><p class="categories"><a href="/categories/frontEnd/">frontEnd</a> / <a href="/categories/frontEnd/JavaScript/">JavaScript</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-31T16:00:00.000Z">2022-06-01</time></p><p class="title"><a href="/2022/06/01/frontEnd/JSvarletconst/">浅谈JavaScript的 var, const, let</a></p><p class="categories"><a href="/categories/frontEnd/">frontEnd</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-18T04:12:12.000Z">2022-05-18</time></p><p class="title"><a href="/2022/05/18/thoughts/jsdelivr-alt/">jsDelivr大面积失效，个人站点该怎么办？</a></p><p class="categories"><a href="/categories/Thoughts/">Thoughts</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-05-11T16:00:00.000Z">2022-05-12</time></p><p class="title"><a href="/2022/05/12/frontEnd/commonJSmethod/">常用的前端JavaScript方法封装</a></p><p class="categories"><a href="/categories/frontEnd/">frontEnd</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2022-04-09T16:00:00.000Z">2022-04-10</time></p><p class="title"><a href="/2022/04/10/frontEnd/asyncAndawait/">JavaScript 异步代码的几个推荐做法</a></p><p class="categories"><a href="/categories/frontEnd/">frontEnd</a></p></div></article></div></div></div></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="https://fastly.jsdelivr.net/gh/ZzzhangLK/Image-Hosting-Service/img/avtor.png" alt="坐和放宽" height="28"></a><p class="is-size-7"><span>&copy; 2022 ZhangLK</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ZzzhangLK"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("zh-CN");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="回到顶端" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "此网站使用Cookie来改善您的体验。",
          dismiss: "知道了！",
          allow: "允许使用Cookie",
          deny: "拒绝",
          link: "了解更多",
          policy: "Cookie政策",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="想要查找什么..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"想要查找什么...","untitled":"(无标题)","posts":"文章","pages":"页面","categories":"分类","tags":"标签"});
        });</script></body></html>